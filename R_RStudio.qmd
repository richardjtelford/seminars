---
title: "R and RStudio"
subtitle: Basics for Beginners
author: Richard J Telford <_richard.telford@uib.no_>
institute: Department of Biological Sciences, University of Bergen
date: today
date-format: "D MMMM YYYY"
format: 
  revealjs:
    title-slide-attributes:
      data-background-image: figs/qr-code-R-RStudio.svg
      data-background-size: 25%
      data-background-position: 98% 98%
editor: visual
execute:
  echo: false
---



```{r}
#| label: qr-code
# generate qr code
library(qrcode)
qr_code("http://richardjtelford.github.io/seminars/R_RStudio.html") |> 
  generate_svg(file = "figs/qr-code-R-RStudio.svg")
```


## Why `r fontawesome::fa(name = "r-project", fill = "steelblue")`?

-   free
-   open source
-   large and friendly user community
-   many statistical methods implemented
-   makes publication ready figures
-   reproducible research
-   code is easy to share and publish

## Why RStudio?

Integrated Development Environment designed for R

(Almost) Never need to use R GUI directly 

- code completion
- syntax highlighting
- bracket matching
- syntax error detection

Positron is an alternative IDE

## Navigating RStudio

```{r}
#| label: rstudio
#| out.width: 100%
#| echo: false
#| fig-alt: Screenshot of RStudio. Top left is the panel for scripts, 
#|   bottom left is the console, 
#|   top right shows which objects are currently in memory, 
#|   and bottom right shows the files, plots, and help tabs.  
knitr::include_graphics("figs/RStudiogui.png")
```


## #1 Top tip for using RStudio

Use RStudio Projects

File >> New Project... >> New Directory >> New Project

- Manages working directory
- Works with Git
- Remembers what you were doing last time

## Beginning R

Make an object and use `<-` to assign. Type its name to see it

```{r}
#| label: assign
#| echo: true

x <- 7
x
```


For large objects, use `View()` or click on the object in the environment tab, 
or `dplyr::glimpse` for a condensed view.

```{r}
#| label: glimpse
#| echo: true

dplyr::glimpse(penguins)

```


## Functions

Everything that does something is a function

```{r}
#| label: mean
#| echo: true

v <- c(1, 5, 7, 2, NA) # NA is a missing value
mean(v, na.rm = TRUE) # arguments separated by a comma
```

Also infix functions e.g. `+` and `%in%`

```{r}
#| label: plus
#| echo: true

6 * 7
```


## Getting help

`?mean` to get help on the function `mean()`

`??correlation` to get help on the topic correlation

Can also search in the RStudio help tab.

## Packages

You can do a lot with base R, but the real power comes when you use extra packages with extra functions.

Install a package from CRAN with 

```{r}
#| label: packages-install
#| eval: false
#| echo: true
install.packages("tidyverse") # don't leave this in your code
```

load a package with `library()`

```{r}
#| label: packages-load
#| eval: false
#| echo: true
library("tidyverse")
```

Now tidyverse functions are available.

Many packages are on CRAN, some are on BioConductor or only available to install from GitHub

## Tidyverse vs Base R

You can do everything in base R.

Many things are easier in `tidyverse` - a collection of packages with consistent function

- `dplyr` & `tidyr` for manipulating data frames
- `ggplot2` for beautiful figures
- `purrr` for running code repeatedly
- `lubridate` for manipulating dates

And many more




## Resourses

[Enough R to write a thesis](https://biostats-r.github.io/biostats/)

```{r}
knitr::include_url("https://biostats-r.github.io/biostats/")
```

-   R books
-   Interactive tutorials & apps

## Books


:::: {.columns}
::: {.column}
#### [R for Data Science](https://r4ds.hadley.nz/)

```{r}
#| label: r4ds-book
#| echo: false
#| fig-alt: Front cover of R for Data Science showing a Kakapo Parrot
#| out-width: 3in
knitr::include_graphics("figs/r4ds-cover.jpg")
```

:::
::: {.column}
#### [ggplot2: Elegant Graphics for Data Analysis](https://ggplot2-book.org/)

```{r}
#| label: ggplot-book
#| echo: false
#| out-width: 3in
#| fig-alt: "Yellow/orange front cover of gplot2: Elegant Graphics for Data Analysis" 
knitr::include_graphics("figs/ggplotbook-cover.jpg")
```

:::
::::

## Rklubben

“The first rule about R club is you talk about R.”

-   Come and help fix someone else's R problems
-   And get help yourself

Fridays 1400-1600 in Tunet (4^th^ floor Bio A)




